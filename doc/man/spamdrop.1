.\" Manual is created by Janos SUTO, 2006.06.29
.TH "SPAMDROP" "1" "Januar 18, 2006" "Janos SUTO" "Clapf network filter"
.SH "NAME"
.LP 
spamdrop \- a statistical anti-spam utility for checking spam and training
.SH "SYNOPSIS"
.LP 
spamdrop [-c <configuration file>] [-u <username>] <|-p|-s|-H|-S>
.SH "DESCRIPTION"
.LP 

Spamdrop is a statistical anti-spam program to determine whether the incoming
message is spam or not. Spamdrop can be used to train the token database, and
is able to handle blackhole (a.k.a minefield) requests as well.

Spamdrop reads the message from the standard input, processes it, then produces
an output.
Spamdrop is designed to collaborate with maildrop.


.SH "OPTIONS"
.LP

.TP
\fB\-c\fR
Use the given configuration file instead the default (/usr/local/etc/clapf.conf).

.TP
\fB\-u\fR
Specify the username. This command line switch overrides both the LOGNAME environment
variable and the uid of the running user.

.TP
\fB\-p\fR
Print the given message to the standard output and inserting some extra headers.

.TP
\fB\-s\fR
Print a summary only

.TP
\fB\-H\fR
Train with a ham message,
eg. spamdrop -H < messagefile

.TP
\fB\-S\fR
Train with a spam message,
eg. spamdrop -S < messagefile


.SH "RETURN VALUE"
.LP

0 for ham, 1 for spam in summary mode, otherwise 0.

.SH "EXAMPLE"
.LP

To use spamdrop with maildrop you may use the following configuration snippet:

.nf

# this block handles the blackhole/minefield requests
# and saves these kind of emails to a folder
if(/trap@email.address/:h)
{
        xfilter "/usr/local/bin/blackhole -p"
        to "mail/blackhole"
        exit
}

# spamdrop normal mode
xfilter "/usr/local/bin/spamdrop -p"

# get rid of the training requests
if(/\+ham@/:h || /\+spam@/:h)
{
        to "/dev/null"
}


# move spam to the junk folder ...
if(/^X-Clapf-spamicity: Yes/:h)
{
        to "mail/junk"
}

# otherwise to the mailbox
to "Mailbox"


.SH "FILES"
.LP
/usr/local/etc/clapf.conf

.SH "LATEST VERSION"
.LP
Please check the primary site: http://clapf.acts.hu/ or the Sourceforge mirror
http://clapf.sf.net/ for the latest and hottest version of clapf as well as
online documentation.

.SH "AUTHOR"
.LP
Janos SUTO <sj@acts.hu>
