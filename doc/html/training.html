<html>
<title>Training the token database</title>
<link rel="stylesheet" type="text/css" href="style.css">
<body bgcolor=white text=darkblue vlink=#AC003A>
<blockquote>

<h1><img src="logo.png"></h1>

<h2>Initial training</h2>

This document describes how to create the database tables and perform
the initial training.<p/>

You should have two collections of emails: ham and spam. It's better when
they are roughly the same size and you should have 1-2-3-5,000 messages
per corpora. The messages can be either in RFC-822 mailbox format (eg.
Pine and Thunderbird stores emails in this format) or in 2 directories -
one containing only ham emails, and the other only spam emails (one email 
per file).
Please do not confuse these 2 directories with the "maildir" format, as
it has a directory structure under the Maildir/ directory, eg.

<pre>
Maildir/
       cur/
       new/
       tmp/
       ...
</pre> 

and likely to contain both ham and spam messages, mailfolders,
administrative files created by mailing software. Thus they are 
not suitable to pass these directories directly to the training 
scripts. You have to pinpoint exacly the folders on the filesystem
holding the mails for the scripts to work, otherwise junk (=bad,
incorrect, wrong, defective or faulty data) will be inserted to
the token database.<p/>

If you have MySQL database then issue the following command:

<pre>
db_init_mysql.sh HAM-mbox SPAM-mbox /usr/local/share/clapf/.my.cnf
</pre>

If you have SQLite3 then issue the following command:

<pre>
db_init_sqlite3.sh HAM-mbox SPAM-mbox clapf.sdb
</pre>

Both of these commands creates the necessary tables, then parses the
ham and the spam collections, breaks them down to tokens, and put them
to the database tables.<p/>

If you don't want to perform an initial training, just create the tables
as follows and be sure to set initial_1000_learning=1 in clapf.conf:<p/>

If using MySQL:

<pre>
mysql --defaults-file=/usr/local/share/clapf/.my.cnf < db-new.sql
</pre>

If using SQLite3:

<pre>
sqlite3 clapf.sdb < db-sqlite3.sql
</pre>


<center><a href="index.html">home</a></center><p>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1610427-1";
urchinTracker();
</script>


</blockquote>
</body></html>
